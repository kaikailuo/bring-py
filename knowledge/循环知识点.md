# 第十周 Python——while 循环（教学讲义版）

## 一、循环结构概述

### 1. 为什么需要循环结构
在程序设计中，如果需要**多次执行相同或类似的操作**，使用顺序或分支结构会造成大量代码重复。  
循环结构可以让程序自动重复执行某段代码，直到条件满足为止，从而：  
- 减少重复代码；  
- 提高程序执行效率；  
- 实现自动化处理任务。  

---

### 2. 循环的两个要素
1. **循环条件**：判断是否继续执行循环体。  
2. **循环体**：在条件满足时被重复执行的代码段。  

当循环条件为真时，循环体执行；为假时，循环结束。

---

## 二、while 循环基础

### 1. while 循环格式
```python
while 条件表达式:
    循环体
```
> 当条件表达式成立（True）时，执行循环体中的语句；当条件不成立时，跳出循环。

**注意缩进！**  
while 行末尾的冒号 `:` 表示下面的代码块属于循环体。

---

### 2. 执行流程图

```
       ┌──────────────┐
       │   判断条件   │
       └──────┬───────┘
              │True
              ▼
        ┌───────────┐
        │  执行循环体 │
        └──────┬──────┘
              │
              └──────> 再次判断条件
                     │
                     ▼False
                退出循环
```

---

## 三、验证密码案例

### 1. 验证密码 1.0 —— 单次判断

```python
a = input("请输入密码: ")
if a == "it09":
    print("密码正确！")
else:
    print("密码错误！")
```
> 只能验证一次，如果输错需要重新运行程序。

---

### 2. 验证密码 2.0 —— while 循环实现多次输入

**目标：**  
当密码错误时，允许用户重新输入，直到输入正确为止。

```python
a = input("请输入密码: ")
while a != "it09":
    print("密码错误！")
    a = input("请重新输入密码: ")
print("密码正确！")
```

**程序说明：**
- 当输入不正确时，循环条件 `a != "it09"` 为真，执行循环体；  
- 当输入正确时，条件为假，跳出循环并输出“密码正确”。

---

### 3. 验证密码 3.0 —— 限制输入次数 + break 语句

**需求：**  
最多输入三次密码，超过次数则退出。

```python
t = 0
while t < 3:
    a = input("请输入密码: ")
    if a == "it09":
        print(f"你经过 {t+1} 次，终于输入正确密码！")
        break
    else:
        print("密码错误！")
    t += 1

if t == 3:
    print("对不起，你的密码不正确，已超出限定次数，暂时锁定。")
```

**知识点：**
- `t = t + 1` 用于记录输入次数；  
- `break` 可以提前结束循环；  
- `if` 与 `while` 配合使用可以实现复杂逻辑控制。

---

## 四、循环控制语句

### 1. break —— 终止循环

```python
while True:
    a = input("请输入：")
    if a == "exit":
        break
    print("你输入了：", a)
```

### 2. continue —— 跳过当前循环，继续下一次

```python
for i in range(1, 6):
    if i == 3:
        continue
    print(i)
# 输出：1, 2, 4, 5
```

---

## 五、无限循环（死循环）

**概念：**  
循环条件永远为真时，程序无法自动结束，即为“死循环”。

```python
while True:
    print("这是一个死循环！")
```

> 若程序陷入死循环，可用 `Ctrl + C` 强制中断。

---

## 六、拓展练习

### 练习 1：折纸游戏

**题目：**  
一张纸厚度为 0.1 毫米，连续对折，问：  
- 至少折多少次能超过 1 米？  
- 折 20 次后有多厚？  
- 要超过珠穆朗玛峰（8844.43 米）要折多少次？  

**提示：**  
每折一次，厚度翻倍。

```python
thickness = 0.1  # mm
target = 1000 * 1000  # 转换成毫米
count = 0

while thickness < target:
    thickness *= 2
    count += 1

print("超过1米需要折", count, "次")

# 折20次的厚度
thickness = 0.1 * (2 ** 20)
print("折20次的厚度为", thickness / 1000, "米")
```

---

### 练习 2：猜数游戏

**游戏规则：**
1. 系统随机生成一个 1～9 的整数；  
2. 用户输入一个数进行猜测；  
3. 若猜错则提示“大了”或“小了”，直到猜对为止。

```python
import random

a = random.randint(1, 9)
b = int(input("请输入一个 1~9 的整数："))

while a != b:
    if b < a:
        print("小了！")
    else:
        print("大了！")
    b = int(input("请再次输入："))

print("恭喜你，猜对了！")
```

---

### 练习 3：敲七游戏

**规则：**
依次从 1 开始数，遇到含“7”或是“7”的倍数时输出“过”。  
例如：7、14、17、21、27、28、35、37、49……  

**实现代码：**
```python
for i in range(1, 101):
    if i % 7 == 0 or i % 10 == 7:
        print("过")
    else:
        print(i)
```

---

## 七、总结

| 内容 | 关键点 |
|------|--------|
| **循环结构** | 重复执行一段代码 |
| **while 语句** | 根据条件是否成立来决定是否继续循环 |
| **break** | 提前终止循环 |
| **continue** | 跳过本次循环 |
| **死循环** | 条件永远成立，程序无法自动停止 |

---

> 💡 **思考题：**  
> 如何让“猜数游戏”在猜错三次后自动提示“游戏结束”？  
> 提示：结合 `break` 与计数变量。

